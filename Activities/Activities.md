# Examples of activities that use the Virtual Laboratory

This is a collection of practical activities that can be carried out using the Virtual Laboratory.

The advantage of having a virtual laboratory available to each student is that they share the same operational environment: a Linux desktop and Linux server on the same LAN with identical features. Each student can exactly reproduce the exercise demonstrated by the teacher in class, remotely or at home.

The following are the summaries of the activities that I show to my students during the course. Some slides about the use of the virtual laboratory are in the ''images'' directory. The named git repositories are in [https://bitbucket.org/labreti/](https://bitbucket.org/labreti/) and the programs run on the desktop VM.

##1. Basics

An introductory lab using terminal commands. You should have already introduced basic concept like network interfaces, IP addresses, autonomous systems

* explore the `ifconfig` command
* explore the `route` command
* explore the `traceroute` command (option -A to see autonomous systems)
* pinging the "server" VM
* observe ping traffic with Wireshark

##2. Forge a packet
Once you have illustrated the protocol stack and header encapsulation you can show how to put together a simple ICMP packet, going through the MAC, IP and ICMP headers

* Forging a ping packet using PackETH

##3. Link layer

This is a more in-dept activity about the link layer.

* Analyze the Ethernet header using Wireshark
* Observe and analyze ARP packets with Wireshark
* Forging a IGMP query packet
* Forging a packet with VLAN addressing

##4. UDP

After explaining the features of the UDP protocol show how to exchange datagrams between the two VMs

* Use the `nc` command to implement sockets on the VMs and exchange datagrams
* Observe and analyze UDP packets
* Forge UDP packets with `packETH`
* Use Python to send and receive UDP datagrams (see repo **python_udp**)

##5. DHCP

DHCP is a LAN management protocol that uses UDP

* explore the dhclient command
* Observe and analyze DHCP packets

##6. IP and routing

The IP packet contain the information needed to travel from router to router. After explaining the Bellman-Ford and Dijkstra algorithms show the dynamics with two python programs that implement their operation.

* Observe and inspect the IP header of a ping packet
* A python program that executes one step of the Bellman-Ford algorithm (see repo [bellmanford-rfc2453](https://bitbucket.org/labreti/bellmanford-rfc2453))
* A python algorithm that executes one step of the Dijkstra algorithm (see repo [dijkstra](https://bitbucket.org/labreti/dijkstra))

##7. FQDN and DNS

After introducing domain names and DNS records and protocol

* How to update the `/etc/hosts` file to add a FQDN for the VM
* Explore the `host` command
* Observe and analyze DNS packets

##8. TCP

Experiment TCP connections

* Use the `nc` command to create a connection between the two VMs
* Observe and inspect segments and the three-way-handshake protocol using Wireshark
* Use Python to implement a TCP client/server pair (see repo **tcpecho**) 
* Use Python to implement a multithreaded server (see repo **threaded**)

##9. Cryptography

Experiments with private/public keys to avoid password and to implement security and trust using `openssl`

* Create and inspect keypairs
* Share a public key
* Observe and analyze the packets generated by the `ssh` command
* Encrypt/Decrypt using asymmetric keys
* Document signature
* Self-signed certificates

##10. HTTP

The "server" VM hosts a LAMP platform

* How to update a page on the server (see repo [webserver](https://bitbucket.org/labreti/webserver))
* Use `curl` to produce HTTP requests
* Observe and analyze HTTP traffic using Wireshark
* Produce cookies using the `curl` command
* Observe cookies management using Wireshark
* Upgrade to websocket with `curl`

##11 Cloud PaaS

Hosting a web server in the cloud using the free plan of the Heroku platform. The Heroku CLI installed on the "desktop" is used to manage the Heroku dynos.

* create a web server in the cloud
* deploy code using the heroku CLI (see repo [heroku_hallo](https://bitbucket.org/labreti/heroku_hallo))

##12 Web frameworks

The Flask web application framework helps to develop complex services in a structured way. The student understands how to test locally and deploy globally.

* Virtual environments in Python
* The Model, View, Controller components in Flask (see the repos [flask_0](https://bitbucket.org/labreti/flask_0), [flask_1](https://bitbucket.org/labreti/flask_1), [flask_2](https://bitbucket.org/labreti/flask_2), [flask_3](https://bitbucket.org/labreti/flask_3), [flask_4](https://bitbucket.org/labreti/flask_4))
* Deploy a Flask application on a dyno using the Heroku CLI
* Git as a software maintenance tool